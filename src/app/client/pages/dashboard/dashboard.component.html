<app-client-header></app-client-header>
<!--  -->
<main class="md:py-[24px] py-[15px] md:px-[0px] px-[15px]">
    <section class="bg-[#FFFFFFB2] max-w-[1152px] m-auto md:p-[24px] p-[15px]  border rounded-[8px] border-[#DCE5E0]">
        <p class="cg-serif  ">
            <span class="font-[500] text-[#1B3226] text-[20px] font-[600]">Welcome Back,</span>&nbsp; <i
                class="text-[20px] text-[#1B3226] font-[600]">John Smith</i> üôã‚Äç‚ôÇÔ∏è
        </p>
        <p class="text-[#577566] text-[14px] font-[400] pt-[4px]">This text will be replaced with the original text.</p>
    </section>
    <!--  -->
    <section
        class="bg-[#FFFFFFB2] max-w-[1152px] m-auto md:p-[24px] p-[15px] mt-[24px] border rounded-[8px] border-[#DCE5E0]">
        <h2 class="font-[600] text-[18px] font-[600] text-[#1B3226]">New Activities</h2>
        <!-- Web View -->
        <div class="md:block hidden">
            <div
                class="mt-[24px] p-[24px] flex  items-center justify-between rounded-[8px] bg-[#FFFFFF80] border border-[#DCE5E0] ">
                <div class="flex items-center">
                    <div class="text-center border-r pr-[33px] border-[#DCE5E0]">
                        <p class="text-[#577566] text-[14px]">Mon</p>
                        <h3 class="text-[#1B3226] pt-[8px] font-[500] text-[30px]">20</h3>
                    </div>
                    <div class="pl-[24px] flex items-center gap-[8px]">
                        <img src="/assets/images/clock.png" class="" alt="" srcset="">
                        <span class="text-[#577566] text-[14px] font-[400]">10:00 AM</span>
                    </div>
                    <div class="pl-[100px] flex items-center gap-[12px]">
                        <img src="/assets/images/card-1.png" class="w-[70px] h-[70px] rounded-[8px]" alt="" srcset="">
                        <p class="text-[#1B3226] text-[18px] font-[600] max-w-[328px]">Upcoming Ketamine For Depression
                            -
                            Psychoeducation Video
                        </p>
                    </div>
                </div>
                <button title="Preview Activity" (click)="openSidebar()"
                    class="border border-[#DEE3E9] w-[36px] h-[36px] rounded-[6px] flex items-center justify-center cursor-pointer">
                    <img src="/assets/images/eye.png" class="" alt="" srcset="">
                </button>
            </div>
            <!--  -->
            <div
                class="mt-[24px] p-[24px] flex  items-center justify-between rounded-[8px] bg-[#FFFFFF80] border border-[#DCE5E0] ">
                <div class="flex items-center">
                    <div class="text-center border-r pr-[33px] border-[#DCE5E0]">
                        <p class="text-[#577566] text-[14px]">Thu</p>
                        <h3 class="text-[#1B3226] pt-[8px] font-[500] text-[30px]">20</h3>
                    </div>
                    <div class="pl-[24px] flex items-center gap-[8px]">
                        <img src="/assets/images/clock.png" class="" alt="" srcset="">
                        <span class="text-[#577566] text-[14px] font-[400]">09:00 AM</span>
                    </div>
                    <div class="pl-[100px] flex items-center gap-[12px]">
                        <img src="/assets/images/card-2.png" class="w-[70px] h-[70px] rounded-[8px]" alt="" srcset="">
                        <p class="text-[#1B3226] text-[18px] font-[600] max-w-[328px]">Completed Initial Fear and
                            Anxiety
                            Exploration
                        </p>
                    </div>
                </div>
                <button title="Preview Activity" (click)="openSidebar()"
                    class="border border-[#DEE3E9] w-[36px] h-[36px] rounded-[6px] flex items-center justify-center cursor-pointer">
                    <img src="/assets/images/eye.png" class="" alt="" srcset="">
                </button>
            </div>
        </div>
        <!-- Web View -->
        <!-- Mobile  View -->
        <div class="md:hidden block">
            <div (click)="openSidebar()"
                class=" flex gap-[12px] mt-[20px]  items-center justify-between rounded-[8px] bg-[#FFFFFF80] border border-[#DCE5E0]">
                <img src="/assets/images/card-1.png" class="w-[90px] object-cover h-fill-available rounded-[8px]" alt=""
                    srcset="">
                <div class="pr-[10px] py-[8px]">
                    <h5 class="text-[#1B3226] text-[14px] font-[600]">Upcoming Ketamine For Depression - Psychoeducation
                        Video
                    </h5>
                    <div class="flex items-center  gap-[8px] pt-[12px]">
                        <div class=" flex items-center gap-[4px] ">
                            <img src="/assets/images/clock.png" class="w-[14px]" alt="" srcset="">
                            <span class="text-[#577566] text-[12px] font-[400]">09:00 AM</span>
                        </div>
                        <div class=" flex items-center gap-[4px] ">
                            <img src="/assets/images/calendar.png" class="w-[14px]" alt="" srcset="">
                            <span class="text-[#577566] text-[12px] font-[400]">20 Mon, 2025</span>
                        </div>
                    </div>
                </div>
            </div>
            <div (click)="openSidebar()"
                class=" flex gap-[12px] mt-[20px]  items-center justify-between rounded-[8px] bg-[#FFFFFF80] border border-[#DCE5E0]">
                <img src="/assets/images/card-2.png" class="w-[90px] object-cover h-fill-available rounded-[8px]" alt=""
                    srcset="">
                <div class="pr-[10px] py-[8px]">
                    <h5 class="text-[#1B3226] text-[14px] font-[600]">Completed Initial Fear and Anxiety
                        Exploration
                    </h5>
                    <div class="flex items-center  gap-[8px] pt-[12px]">
                        <div class=" flex items-center gap-[4px] ">
                            <img src="/assets/images/clock.png" class="w-[14px]" alt="" srcset="">
                            <span class="text-[#577566] text-[12px] font-[400]">09:00 AM</span>
                        </div>
                        <div class=" flex items-center gap-[4px] ">
                            <img src="/assets/images/calendar.png" class="w-[14px]" alt="" srcset="">
                            <span class="text-[#577566] text-[12px] font-[400]">24 thu, 2025</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Mobile View -->
    </section>
    <!--  -->
    <section
        class="bg-[#FFFFFFB2] max-w-[1152px] m-auto md:p-[24px] p-[15px] mt-[24px] border rounded-[8px] border-[#DCE5E0]">
        <div class="md:flex justify-between items-center">
            <div>
                <h2 class="font-[600] text-[18px] font-[600] text-[#1B3226]">Ketamine Basic Voyage</h2>
                <p class="text-[#577566] pt-[8px] font-[400]">Week 1</p>
            </div>
            <button
                class="text-white block w-fit md:mt-[0px] mt-[12px] bg-[#4B715B] cursor-pointer border-2 border-[#507860] rounded-full md:h-[48px] h-[40px]  focus:ring-4 focus:ring-gray-300  shadow-[0px_1px_2px_0px_#1018280D]   pl-[1px] py-[1px] pr-[20px] ">
                <div
                    class="bg-[linear-gradient(90deg,#70A987_0%,#507860_100%)] md:text-[16px] text-[14px] h-full pl-[20px] pr-[7px] flex items-center font-[400]   rounded-full">
                    Voyage Details
                </div>
            </button>
        </div>
        <!--  -->
        <div class="pt-[34px]">
            <h4 class="text-[#1B3226] font-[500]">Progress</h4>
            <div class="mt-[16px]">
                <div class="relative w-full h-[14px] bg-[#EAECF0] rounded-full">
                    <div [style.left.%]="progressValue"
                        class="absolute bottom-6 font-[600] -translate-x-1/2 bg-white px-[12px] py-[8px] rounded-md shadow-[0_2px_10px_rgba(0,0,0,0.08)] border border-gray-100 text-[12px] font-bold text-[#1B3226] whitespace-nowrap">
                        {{ progressValue }}%
                    </div>
                    <div [style.width.%]="progressValue"
                        class="h-full bg-[#74ab8a] rounded-full transition-all duration-700 ease-in-out">
                    </div>
                </div>
            </div>
            <!--  -->
            <h2 class="font-[600] mt-[34px] text-[18px] font-[600] text-[#1B3226]">Today‚Äôs Activity</h2>
            <!-- Web  View -->
            <div class="pt-[24px] md:flex hidden items-center justify-between">
                <div class=" flex items-center gap-[12px]">
                    <img src="/assets/images/card-3.png" class="w-[70px] h-[70px] rounded-[8px] object-cover" alt=""
                        srcset="">
                    <div>
                        <h3 class="text-[#1B3226] text-[18px] font-[600] max-w-[366px]">Completed Breathing
                            Meditation
                        </h3>
                        <p class="text-[#577566] pt-[5px] text-[12px]">A calming practice to help you reconnect with
                            your
                            inner balance.
                        </p>
                    </div>
                </div>
                <div title="Preview Activity"
                    class="border border-[#DEE3E9] w-[36px] h-[36px] rounded-[6px] flex items-center justify-center cursor-pointer">
                    <img src="/assets/images/eye.png" class="" alt="" srcset="">
                </div>
            </div>
            <!-- Web  View -->
            <!-- Mobile  View -->
            <div class="md:hidden block">
                <div (click)="openSidebar()"
                    class=" flex gap-[12px] mt-[20px]  items-center justify-between rounded-[8px] bg-[#FFFFFF80] border border-[#DCE5E0]">
                    <img src="/assets/images/card-3.png" class="w-[90px] object-cover h-fill-available rounded-[8px]"
                        alt="" srcset="">
                    <div class="pr-[10px] py-[8px]">
                        <h5 class="text-[#1B3226] text-[14px] font-[600]">Completed Breathing Meditation</h5>
                        <div class="flex items-center  gap-[8px] pt-[5px]">
                            <p class="text-[#577566]  text-[12px]">A calming practice to help you reconnect with
                                your
                                inner balance.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Mobile View -->
        </div>
    </section>
    <!--  -->
    <section class="bg-[#FFFFFFB2] max-w-[1152px] py-[24px] m-auto  mt-[24px] border rounded-[8px] border-[#DCE5E0]">
        <h2 class="font-[600] text-[18px] px-[24px] font-[600] text-[#1B3226]">Completed Activities</h2>
        <div class="relative overflow-x-auto bg-neutral-primary-soft mt-[25px]">
            <table class="w-full text-sm text-left rtl:text-right text-body">
                <thead class="text-sm text-body bg-[#FDF9F5]">
                    <tr>
                        <th class="md:px-[24px] px-[15px] py-3 text-[#3D536B] font-[500]">Title</th>
                        <th class="md:px-[24px] px-[15px] py-3 text-[#3D536B] font-[500]">Duration</th>
                        <th class="md:px-[24px] px-[15px] py-3 text-[#3D536B] font-[500]">Steps</th>
                        <th class="md:px-[24px] px-[15px] py-3 text-[#3D536B] font-[500]">Completed</th>
                        <th class="md:px-[24px] px-[15px] py-3 text-[#3D536B] font-[500]">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let activity of activities"
                        class="bg-neutral-primary border-[#FDF9F5] border-b hover:bg-[#FDF9F5]">
                        <th
                            class="md:px-[24px] px-[15px] md:py-[26px] py-[15px] font-medium text-heading whitespace-nowrap">
                            <div class="flex items-center gap-[12px]">
                                <img [src]="activity.image" class="w-[40px] h-[40px] rounded-[100px]"
                                    alt="Activity Image">
                                <p
                                    class="text-[#3D536B] md:text-[14px] text-[12px] whitespace-break-spaces w-[248px] font-[600]">
                                    {{ activity.title }}
                                </p>
                            </div>
                        </th>
                        <td class="md:px-[24px] px-[15px] md:py-[26px] py-[15px] text-[#5F7388]">{{ activity.duration }}
                        </td>
                        <td class="md:px-[24px] px-[15px] md:py-[26px] py-[15px] text-[#5F7388]">{{ activity.steps }}
                        </td>
                        <td class="md:px-[24px] px-[15px] md:py-[26px] py-[15px] text-[#5F7388]">{{ activity.completed
                            }}
                        </td>
                        <td class="md:px-[24px] px-[15px] md:py-[26px] py-[15px] text-[#5F7388]">
                            <div class="flex gap-[8px]">
                                <div title="Preview Activity" (click)="openSidebar()"
                                    class="border border-[#DEE3E9] w-[36px] h-[36px] rounded-[6px] flex items-center justify-center cursor-pointer">
                                    <img src="/assets/images/eye.png" alt="Preview">
                                </div>
                                <div title="Review Activity"
                                    class="border border-[#DEE3E9] w-[36px] h-[36px] rounded-[6px] flex items-center justify-center cursor-pointer">
                                    <img src="/assets/images/review.png" alt="Review">
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</main>
<!------------------------------------------------------------------------ SIDEBAR ------------------------------------------------------------------------>
<!-- Overlay -->
<!-- Background Overlay -->
<div *ngIf="isSidebarOpen" class="fixed inset-0 bg-[#00000080] z-40" (click)="closeSidebar()"></div>

<!-- Modal Popup -->
<div *ngIf="isSidebarOpen" class="fixed inset-0 flex items-center justify-center z-50">
    <div class="relative bg-white md:w-[748px] w-[95%]  rounded-lg shadow-lg md:p-6 p-3">
        <!-- Close Button -->
        <button class="absolute top-4 right-4 cursor-pointer" (click)="closeSidebar()">
            <img src="/assets/images/x-square.png" alt="Close" class="" />
        </button>
        <h2 class="text-[#3D536B] text-[18px] font-[600] md:mt-0 mt-[16px]">Activity Preview</h2>
        <p class="text-[#5F7388] text-[14px] font-[400] ">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <div
            class="my-[24px] rounded-[8px] flex md:gap-[16px] gap-[8px] items-center shadow-[0px_0.8px_1.6px_0px_#1018280F] border border-[#EDF6FF] md:p-[16px] p-[8px]">
            <div>
                <img src="/assets/images/card-3.png" class="md:w-[198px] w-[158px] rounded" alt="Header Image" />
            </div>
            <div>
                <button
                    class="shadow-[0px_1px_2px_0px_#1018280D] text-[12px] text-[#3D536B] cursor-pointer flex items-center rounded-full border border-[#C6D2FF] px-[12px] py-[3px] bg-[linear-gradient(90deg,_#EDF1FF_0%,_rgba(249,251,255,0.2)_100%)]">
                    <div class="w-[8px] h-[8px] rounded-full bg-[#B4BFE8]"></div>
                    &nbsp; Important Activity
                </button>
                <h2 class="text-[#3D536B] md:text-[18px] text-[14px] font-[600] pt-[16px]">Ketamine Basic Voyage</h2>
            </div>
        </div>

        <div class="content">
            <ng-container *ngFor="let step of steps; let i = index">
                <div *ngIf="currentStep === i">
                    <div [innerHTML]="step.content" class="text-gray-700 mb-4 max-h-[45vh] overflow-y-auto"></div>
                    <!-- Footer Buttons -->
                    <div class="flex justify-between mt-[34px] gap-[12px]">
                        <!-- LEFT BUTTON -->
                        <ng-container>
                            <button *ngIf="i === 0" (click)="nextStep()"
                                class="text-white block w-full md:mt-[0px] mt-[12px]  bg-[#4B715B] cursor-pointer border-2 border-[#507860] rounded-full md:h-[48px] h-[40px] focus:ring-4 focus:ring-gray-300 shadow-[0px_1px_2px_0px_#1018280D] pl-[1px] py-[1px] pr-[20px]">
                                <div
                                    class="bg-[linear-gradient(90deg,#70A987_0%,#507860_100%)] text-center md:text-[16px] text-[14px] h-full pl-[20px] pr-[7px] flex justify-center items-center font-[400] rounded-full">
                                    Start </div>
                            </button>

                            <button *ngIf="i > 0" (click)="prevStep()"
                                class="text-white md:mt-0 mt-3 w-[50%] block  bg-[#F2E1CA] cursor-pointer border-2 border-[#E6C699] rounded-full md:h-[48px] h-[40px]  hover:bg-gray-50 focus:ring-4 focus:ring-gray-300  shadow-[0px_1px_2px_0px_#1018280D]   pl-[1px] py-[1px] pr-[20px] ">
                                <div
                                    class="bg-[linear-gradient(90deg,#FDF9F5_0%,#F7EDDF_100%)] justify-center  h-full pl-[20px]  md:text-[16px] text-[14px] flex items-center font-[400]  text-[#1B3226] rounded-full">
                                    Prev</div>
                            </button>
                        </ng-container>

                        <!-- RIGHT BUTTON -->
                        <ng-container>
                            <button *ngIf="i > 0 && i < steps.length - 1" (click)="nextStep()"
                                class="text-white block w-[50%] md:mt-[0px] mt-[12px] bg-[#4B715B] cursor-pointer border-2 border-[#507860] rounded-full md:h-[48px] h-[40px] focus:ring-4 focus:ring-gray-300 shadow-[0px_1px_2px_0px_#1018280D] pl-[1px] py-[1px] pr-[20px]">
                                <div
                                    class="bg-[linear-gradient(90deg,#70A987_0%,#507860_100%)] text-center md:text-[16px] text-[14px] h-full pl-[20px] pr-[7px] flex justify-center items-center font-[400] rounded-full">
                                    Next </div>
                            </button>

                            <button *ngIf="i === steps.length - 1" (click)="finish()"
                                class="text-white block w-[50%] md:mt-[0px] mt-[12px] bg-[#4B715B] cursor-pointer border-2 border-[#507860] rounded-full md:h-[48px] h-[40px] focus:ring-4 focus:ring-gray-300 shadow-[0px_1px_2px_0px_#1018280D] pl-[1px] py-[1px] pr-[20px]">
                                <div
                                    class="bg-[linear-gradient(90deg,#70A987_0%,#507860_100%)] text-center md:text-[16px] text-[14px] h-full pl-[20px] pr-[7px] flex justify-center items-center font-[400] rounded-full">
                                    Finish </div>
                            </button>
                        </ng-container>
                    </div>

                </div>
            </ng-container>
        </div>


    </div>
</div>